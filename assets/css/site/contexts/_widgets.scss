.item {
  display: table;
  width: 100%;
  position: relative;
  background-color: white;
  overflow-x: hidden;
  
  @include small() {
    display: block;
    min-height: 0 !important;
  }
  
  &.fluid {
    height: auto;
    padding-top: 8 * $contentPadding;
    padding-bottom: 8 * $contentPadding;
  }
  
  &.featured {
    & > * {
      display: table-cell;
      vertical-align: middle;
      text-align: center;
      font-size: 200%;
      padding: $contentPadding * 5 $contentPadding;
      
      img {
        max-width: 100%;
      }
      
      .icon {
        font-size: 200%;
        margin: 0;
        font-weight: 100;
        
        & + * {
          margin-top: 0;
        }
      }
      
      .image {
        text-align: center;
      }
      
      .content {
        padding-left: $contentPadding * 4;
        padding-right: $contentPadding * 4;
        
        p {
          white-space: pre-line;
        }
      }
    }
  }
  
  &.no-overflow {
    overflow: hidden;
    display: block;
  }
  
  .width-wrapper {
    position: relative;
    min-height: 100%;
    display: table;
  }
  
  &.properties {
    background-color: $orange;
    padding: $contentPadding * 2 0;
    font-weight: 400;
    
    .data-sheet {
      display: none;
    }
  }
  
  &.gray {
    background-color: $extraLightGray;
    border-top: solid 1px $lightGray;
    border-bottom: solid 1px $lightGray;
  }
  
  &.map {
    $s: 600px;
    
    .address {
      font-size: 200%;
      margin-top: 5 * $contentPadding;
      text-align: center;
      
      & > span + span {
        &:before {
          content: ' // ';
          margin-left: 0.5em;
          margin-right: 0.5em;
        }
      }
    }
    
    & > .widget {
      vertical-align: middle;
    }
    
    .map-overlay {
      margin-left: auto;
      margin-right: auto;
      overflow: hidden;
      
      &, & > .map-container {
        width: $s;
        height: $s;
        border-radius: $s;
      }
      
      & > .map-container {
        background-color: black;
      }
    }
  }
  
  @import "contexts/widgets/big-image";
  
  & > .widget, .width-wrapper > .widget {
    display: table-cell;
    width: 100%;
    height: 100%;
    
    @include small() {
      display: block;
    }
  }
  
  .widget {
    $paddingQ: 10;
    padding-top: $paddingQ * $contentPadding;
    padding-bottom: $paddingQ * $contentPadding;
    
    &.chromatic {
      height: 100%;
      overflow: auto;
      padding-top: $contentPadding / 2;
      padding-bottom: $contentPadding / 2;
      
      .chromatic-gallery-photo {
        margin: $contentPadding / 2;
      }
    }
    
    &.tiles-gallery {
      & > a {
        display: block;
        float: left;
        padding: $contentPadding;
        width: 33%;
        
        &.vertical {
          width: 25%;
        }
        
        img {
          width: 100%;
          height: auto;
          display: block;
          float: left;
        }
      }
    }
    
    &.large-text {
      font-size: 300%;
      
      h1, h2, h3, h4, h5, h6, p {
        margin: 0;
        font-weight: $titleWeight;
      }
      
      &[data-vertical="center"], &[data-vertical="middle"] {
        vertical-align: middle;
      }
      
      &[data-vertical="bottom"], &[data-vertical="end"] {
        vertical-align: bottom;
      }
      
      &[data-align="left"], &[data-align="start"] {
        text-align: left;
      }
      
      &[data-align="center"], &[data-align="middle"] {
        text-align: center;
      }
      
      &[data-align="right"], &[data-align="end"] {
        text-align: right;
      }
    }
    
    &.gallery {
      & > a {
        display: block;
        float: left;
        
        img {
          display: block;
          margin: $contentPadding / 2;
          $easing: cubic-bezier(.02,.94,0.1,1);
          @include vendors(transition-duration, 300ms);
          @include vendors(transition-property, all);
          @include vendors(transition-easing, $easing);
          position: relative;
          z-index: 1;
        }
        
        &:hover img {
          $scale: scale(1.07);
          @include vendors(transform, $scale);
          z-index: 2;
        }
      }
    }
    
    &.video {
      padding: 0;
      display: block;
      position: relative;
      overflow: hidden;
      color: white;
    }
    
    &.text-columns {
      @for $i from 2 through 4 {
        &[data-columns="#{$i}"] {
          @include vendors(column-count, $i);
          @include vendors(column-gap, 3em);
        }
      }
    }
  }
  
  [data-effect] {
    @include vendors(transition-duration, 1000ms);
    @include vendors(transition-property, all);
    
    &[data-effect~="fade"] {
      opacity: 0;
      
      &.effect-reveal {
        opacity: 1;
      }
    }
    
    $zoomLevel: 1.5;
    
    &[data-effect~="zoom-in"], &[data-effect~="zoom-out"] {
      &, .image-content, img, video {
        @include vendors(transition-duration, 0 !important);
      }
    }
    
    &[data-effect~="slow-zoom-in"] {
      @include vendors(transform, scale(1) translateX(-50%) translateY(-50%));
      @include vendors(transform-origin, 0 0);
      
      &.effect-reveal {
        @include vendors(transition-duration, 120s);
        @include vendors(transform, scale($zoomLevel) translateX(-50%) translateY(-50%));
      }
    }
    
    &[data-effect~="slow-zoom-out"] {
      @include vendors(transform, scale($zoomLevel) translateX(-50%) translateY(-50%));
      @include vendors(transform-origin, 0 0);
      
      &.effect-reveal {
        @include vendors(transition-duration, 120s);
        @include vendors(transform, scale(1) translateX(-50%) translateY(-50%));
      }
    }
    
    &[data-effect~="zoom-in"] {
      @include vendors(transform, scale(1) translateX(-50%) translateY(-50%));
      @include vendors(transform-origin, 0 0);
      @include vendors(filter, blur(20px));
      
      &.effect-reveal {
        @include vendors(transform, scale($zoomLevel) translateX(-50%) translateY(-50%));
        @include vendors(filter, blur(0));
      }
    }
    
    &[data-effect~="zoom-out"] {
      @include vendors(transform, scale($zoomLevel) translateX(-50%) translateY(-50%));
      @include vendors(transform-origin, 0 0);
      @include vendors(filter, blur(20px));
      
      &.effect-reveal {
        @include vendors(transform, scale(1) translateX(-50%) translateY(-50%));
        @include vendors(filter, blur(0));
      }
    }
    
    &[data-effect~="scale"] {
      @include vendors(transform, scale($zoomLevel));
      @include vendors(transition-timing-function, $easingEaseOutSlow);
      @include vendors(transition-duration, 3000ms);
      @include vendors(transform-origin, 50% 0);
      
      &.effect-reveal {
        @include vendors(transform, scale(1));
      }
    }
    
    &[data-effect~="blur"] {
      @include vendors(filter, blur(10px));
      
      &.effect-reveal {
        @include vendors(filter, blur(0));
      }
    }
  }
}
